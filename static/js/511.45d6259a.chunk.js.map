{"version":3,"file":"static/js/511.45d6259a.chunk.js","mappings":"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","sources":["components/Button/Button.jsx","components/MovieCard/MovieCard.styled.js","components/MovieCard/MovieCard.jsx","components/MovieList/MovieList.jsx","components/SearchInput/SearcInput.styled.js","components/SearchInput/SearchInput.jsx","pages/MoviesPage.styled.js","pages/MoviesPage.jsx","utils/api-service.js"],"sourcesContent":["import styled from 'styled-components';\n\nconst StyledButton = styled.button`\n  \n  height: 36px;\n\n  padding: 10px 20px;\n\n\n  font-size: 16px;\n\n  border: 1px solid #000;\n  border-radius: 4px;\n\n  background-color: transparent;\n\n  &:focus,\n  &:hover {\n    background-color: #efefef;\n  }\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const Button = ({ type='button', onClick, children }) => {\n  return (\n    <StyledButton type={type} onClick={onClick}>\n      {children}\n    </StyledButton>\n  );\n};\n","import styled from 'styled-components';\n\nexport const CardWrapper = styled.div`\n  width: 280px;\n  padding: 10px;\n  border-radius: 20px;\n  background-color: #efefef;\n\n  transition: transform 100ms ease;\n\n  &:hover, &focus {\n    transform: scale(1.01);\n  }\n`;\n\nexport const ImageWrapper = styled.div`\n  width: 100%;\n  height: 390px;\n  border-radius: 10px;\n  overflow: hidden;\n`;\n\nexport const InfoWrapper = styled.div`\n  padding-top: 10px;\n  height: 100px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n`;\n\nexport const Title = styled.h2`\nfont-size: 20px`;\n\nexport const SubInfoWrapper = styled.div`\n  padding: 10px;\n  display: flex;\n  justify-content: space-between;\n`;\n","import {\n  CardWrapper,\n  ImageWrapper,\n  InfoWrapper,\n  Title,\n  SubInfoWrapper,\n} from './MovieCard.styled';\n\nexport const MovieCard = ({\n  movie: { original_title, poster_path, release_date, vote_average },\n}) => {\n  return (\n    <CardWrapper>\n      <ImageWrapper>\n        <img\n          width=\"100%\"\n          src={`https://image.tmdb.org/t/p/w342${poster_path}`}\n          alt={original_title}\n        />\n      </ImageWrapper>\n      <InfoWrapper>\n        <Title>{original_title}</Title>\n        <SubInfoWrapper>\n          <p>{formatDate(release_date)}</p>\n          <p>{vote_average}</p>\n        </SubInfoWrapper>\n      </InfoWrapper>\n    </CardWrapper>\n  );\n};\n\nfunction formatDate (date) {\n  return new Date(date).toLocaleDateString();\n}","import { Link, useLocation } from 'react-router-dom';\nimport { MovieCard } from 'components/MovieCard';\nimport styled from 'styled-components';\n\nconst List = styled.ul`\n  margin: auto;\n\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  gap: 20px;\n`;\n\nexport const MovieList = ({ movies }) => {\n  const location = useLocation()\n  return (\n    <List>\n      {movies.map(movie => {\n        return (\n          <li key={movie.id}>\n            <Link to={`/movies/${movie.id}`} state={{from: location}}>\n              <MovieCard movie={movie} />\n            </Link>\n          </li>\n        );\n      })}\n    </List>\n  );\n};\n","import styled from 'styled-components';\n\nexport const StyledForm = styled.form`\n  display: flex;\n  justify-content: flex-start;\n  gap: 10px;\n`;\n\nexport const StyledInput = styled.input`\n  display: block;\n  width: 300px;\n  height: 36px;\n\n  padding: 10px;\n\n  font-size: 16px;\n\n  border: 1px solid #000;\n  border-radius: 4px;\n\n  color: #2e2e2e;\n`;\n","import { Button } from 'components/Button';\nimport { Container } from 'components/Container';\nimport { useState } from 'react';\nimport {StyledForm, StyledInput} from './SearcInput.styled'\n\n\nexport const SearchInput = ({ value, onSubmit }) => {\n  const[query, setQuery] = useState(value)\n  const handleFormSubmit = e => {\n    e.preventDefault();\n\n    if (!query.trim()) {\n      return;\n    }\n\n    onSubmit(query);\n  };\n\n  return (\n    <Container>\n      <StyledForm onSubmit={handleFormSubmit}>\n        <StyledInput type=\"text\" value={query} onChange={(e)=>(setQuery(e.target.value))} placeholder=\"Please input movie title...\" />\n        <Button type=\"submit\"> Search </Button>\n      </StyledForm>\n    </Container>\n  );\n};\n","import styled from 'styled-components';\n\nexport const MoviesPageWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n`;\n\nexport const QueryWrapper = styled.div`\n  padding-bottom: 10px;\n\n  display: flex;\n  align-items: baseline;\n\n  border-bottom: 1px solid #2e2e2e;\n`;\n\nexport const TotalInfo = styled.p`\n  width: 200px;\n  margin: 10px;\n\n  text-align: right;\n`;\n","import { useCallback, useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport { getMovieBySearch } from 'utils/api-service';\n\nimport { SearchInput } from 'components/SearchInput/SearchInput';\nimport { MovieList } from 'components/MovieList';\nimport { Loader } from 'components/Loader';\nimport { toast } from 'react-hot-toast';\nimport { Button } from 'components/Button';\nimport { Container } from 'components/Container';\n\nimport {\n  MoviesPageWrapper,\n  QueryWrapper,\n  TotalInfo,\n} from './MoviesPage.styled';\n\nconst MoviesPage = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const query = searchParams.get('query') || '';\n\n  const [movies, setMovies] = useState([]);\n  const [page, setPage] = useState(1);\n  const [total, setTotal] = useState(0);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const getMovies = useCallback(async (query, page) => {\n    setIsLoading(true);\n\n    try {\n      const data = await getMovieBySearch(query, page);\n\n      if (data.results.length === 0) {\n        toast.error(\"Can't find anything\");\n      }\n\n      setMovies(movies => [...movies, ...data.results]);\n      setTotal(data.total_results);\n    } catch (error) {\n      toast.error(error);\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n\n    getMovies(query, page);\n  }, [getMovies, query, page]);\n\n  const handleSearchInputSubmit = query => {\n    setSearchParams({ query });\n    setPage(1);\n    setTotal(0);\n    setMovies([]);\n  };\n\n  const handleLoadMoreBtn = () => {\n    setPage(page => page + 1);\n  };\n\n  const checkLoadMore = () => {\n    return total > movies.length;\n  };\n\n  return (\n    <Container>\n      <MoviesPageWrapper>\n        <QueryWrapper>\n          <SearchInput onSubmit={handleSearchInputSubmit} value={query} />\n          {total > 0 && <TotalInfo>Found {total} results.</TotalInfo>}\n        </QueryWrapper>\n        {movies && <MovieList movies={movies} />}\n        <Loader isLoading={isLoading} />\n        {checkLoadMore() && (\n          <Button onClick={handleLoadMoreBtn}>Load more</Button>\n        )}\n      </MoviesPageWrapper>\n    </Container>\n  );\n};\n\nexport default MoviesPage;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\naxios.defaults.params = {\n  api_key: '76059bb2c5370f2088a30ab49f5c2ae0',\n};\n\nexport const getTrendingFilms = async () => {\n  const { data } = await axios(`/trending/movie/week`);\n  return data;\n};\n\nexport const getMovieBySearch = async (query, page) => {\n  const { data } = await axios(`/search/movie?query=${query}&page=${page}`);\n  return data;\n};\n\nexport const getMovieDetails = async movieId => {\n  const { data } = await axios(`/movie/${movieId}`);\n  return data;\n};\n\nexport const getMovieCast = async movieId => {\n  const { data } = await axios(`/movie/${movieId}/credits`);\n  return data;\n};\n\nexport const getMovieReviews = async movieId => {\n  const { data } = await axios(`/movie/${movieId}/reviews`);\n  return data;\n};\n"],"names":["StyledButton","styled","Button","type","onClick","children","CardWrapper","ImageWrapper","InfoWrapper","Title","SubInfoWrapper","MovieCard","date","movie","original_title","poster_path","release_date","vote_average","width","src","alt","Date","toLocaleDateString","List","MovieList","movies","location","useLocation","map","to","id","state","from","StyledForm","StyledInput","SearchInput","value","onSubmit","useState","query","setQuery","Container","e","preventDefault","trim","onChange","target","placeholder","MoviesPageWrapper","QueryWrapper","TotalInfo","useSearchParams","searchParams","setSearchParams","get","setMovies","page","setPage","total","setTotal","isLoading","setIsLoading","getMovies","useCallback","getMovieBySearch","data","results","length","toast","total_results","useEffect","Loader","axios","api_key","getTrendingFilms","getMovieDetails","movieId","getMovieCast","getMovieReviews"],"sourceRoot":""}